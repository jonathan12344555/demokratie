<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Demokratie Erleben ‚Äì √ñsterreich</title>

  <!-- ===========================
       Styles (extern/inline)
       =========================== -->
  <style>
    :root{
      --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e;
      --accent1:#00fff0; --accent2:#ff00f0;
      --muted:#cbd5e1; --card:#111217;
      --radius:12px;
      --maxwidth:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, system-ui, Arial, sans-serif;
      background: linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
      font-size:16px;
      padding-bottom:40px;
    }

    /* Header */
    .site{
      max-width:var(--maxwidth);
      margin:18px auto;
      padding:0 16px;
    }
    header{
      text-align:center;
      padding:30px 8px 12px;
    }
    header h1{
      font-size:2.2rem;
      margin:0 0 6px;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    }
    header p{ margin:0; color:var(--muted) }

    /* Navigation (responsive) */
    .topbar{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:18px; }
    .nav-toggle{ display:none; background:transparent; border:2px solid rgba(255,255,255,0.06); padding:8px 10px; border-radius:8px; color:var(--muted); cursor:pointer; }
    nav.buttons{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    nav button{
      background:var(--accent1);
      color:#000;
      border:none;
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      transition:all .18s ease;
      min-width:110px;
      text-align:center;
    }
    nav button:hover, nav button:focus{ transform:translateY(-3px); background:linear-gradient(90deg,var(--accent2),var(--accent1)); color:#fff; outline:none; }
    nav button[aria-current="true"]{ box-shadow:0 6px 20px rgba(0,0,0,0.35); }

    /* Sections */
    main{ margin-top:18px; }
    section.card{
      display:none;
      background:rgba(255,255,255,0.03);
      border:1px solid rgba(255,255,255,0.06);
      padding:22px;
      border-radius:var(--radius);
      margin:16px 0;
    }
    section.card.active{ display:block }

    h2{ margin:0 0 10px; font-size:1.3rem }
    p.lead{ color:var(--muted); margin:0 0 12px }

    /* general box and buttons inside */
    .btn{ display:inline-block; background:var(--accent1); color:#000; border:none; padding:10px 12px; border-radius:10px; cursor:pointer; font-weight:700; }
    .btn:hover{ background:linear-gradient(90deg,var(--accent2),var(--accent1)); color:#fff }
    .muted{ color:var(--muted) }

    /* quiz */
    .quiz-wrap{ display:grid; gap:12px; grid-template-columns:1fr; align-items:start; }
    .quiz-opts{ display:grid; gap:10px; }
    .quiz-opts button{ text-align:left; padding:12px; font-size:1rem }
    .progress{ height:14px; background:#222; border-radius:8px; overflow:hidden; }
    .progress > i{ display:block; height:100%; background:linear-gradient(90deg,var(--accent1),var(--accent2)); width:0%; transition:width .4s ease; }

    /* facts */
    .fact-box{
      background:rgba(0,0,0,0.15);
      padding:12px 14px;
      border-left:4px solid var(--accent2);
      border-radius:8px;
      font-style:italic;
      min-height:56px;
    }

    /* memory */
    .memory-grid{
      display:grid;
      gap:10px;
      grid-template-columns:repeat(auto-fit,minmax(64px,1fr));
      margin-top:12px;
    }
    .card-tile{
      position:relative;
      background:#111;
      aspect-ratio:1/1;
      border-radius:10px;
      cursor:pointer;
      display:flex;
      align-items:center; justify-content:center;
      font-size:1.6rem;
      user-select:none;
      transition:transform .18s ease, background .18s ease;
    }
    .card-tile.flipped{ background:var(--accent1); color:#000; transform:scale(1.03) }

    /* truths game */
    .truths-list{ display:flex; flex-direction:column; gap:10px; margin-top:12px }
    .truth-btn{ text-align:left; padding:12px; font-weight:600 }

    /* video responsive */
    .video-wrap{ position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:12px; margin-top:12px; }
    .video-wrap video, .video-wrap iframe{
      position:absolute; top:0; left:0; width:100%; height:100%; border-radius:12px;
    }

    /* footer */
    footer{ text-align:center; color:var(--muted); margin-top:18px; font-size:0.9rem }

    /* small screens */
    @media (max-width:720px){
      header h1{ font-size:1.6rem }
      nav.buttons{ display:none; }
      .nav-toggle{ display:inline-block; }
      .site{ padding:0 12px }
      nav.mobile-open{ display:flex; flex-direction:column; gap:8px; margin-top:10px; }
      .quiz-opts button{ font-size:0.95rem; padding:14px }
      .card-tile{ font-size:1.4rem }
    }

    /* focus accessibility */
    button:focus{ outline:3px solid rgba(0,255,240,0.16); outline-offset:2px }
  </style>
</head>
<body>
  <div class="site">
    <header>
      <h1>üá¶üáπ Demokratie Erleben</h1>
      <p class="lead">Interaktive Lernplattform zu Demokratie & Politik in √ñsterreich ‚Äî Quiz, Fakten, Minigames & Video</p>
    </header>

    <!-- top navigation -->
    <div class="topbar" role="navigation" aria-label="Hauptnavigation">
      <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navButtons">‚ò∞ Men√º</button>
      <nav id="navButtons" class="buttons" aria-label="Seiten-Links">
        <button onclick="show('home')" id="btn-home" aria-current="true">Start</button>
        <button onclick="show('quiz')" id="btn-quiz">Quiz</button>
        <button onclick="show('facts')" id="btn-facts">Fakten</button>
        <button onclick="show('games')" id="btn-games">Mini-Games</button>
        <button onclick="show('video')" id="btn-video">Video</button>
      </nav>
    </div>

    <main>
      <!-- HOME -->
      <section id="home" class="card active" aria-labelledby="homeTitle">
        <h2 id="homeTitle">Was ist Demokratie?</h2>
        <p class="lead">√ñsterreich ist eine repr√§sentative, f√∂derale Republik. Die wichtigsten Institutionen sind Nationalrat, Bundesrat, Bundesregierung und Bundespr√§sident. Im Men√º findest du Quiz, Fakten, zwei Minispiele und ein Lernvideo (einfach `meinvideo.mp4` in dasselbe GitHub-Verzeichnis laden).</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
          <button class="btn" onclick="show('quiz')">Quiz starten</button>
          <button class="btn" onclick="show('facts')">Fakten ansehen</button>
        </div>
      </section>

      <!-- QUIZ -->
      <section id="quiz" class="card" aria-labelledby="quizTitle">
        <h2 id="quizTitle">üéì √ñsterreich-Quiz</h2>
        <div class="quiz-wrap">
          <div id="quizQuestion" style="min-height:64px"></div>
          <div class="quiz-opts" id="quizOptions"></div>
          <div class="progress" aria-hidden="true"><i id="progBar"></i></div>
          <div style="display:flex;gap:10px;margin-top:8px">
            <button class="btn" id="quizRestart" onclick="restartQuiz()" style="background:#ffb703">Neustart</button>
            <button class="btn" onclick="show('home')" style="background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.03)">Zur√ºck</button>
          </div>
          <div id="quizResult" style="margin-top:10px;color:var(--muted)"></div>
        </div>
      </section>

      <!-- FACTS -->
      <section id="facts" class="card" aria-labelledby="factsTitle">
        <h2 id="factsTitle">‚ÑπÔ∏è Fakten √ºber √ñsterreich</h2>
        <p class="muted">Tipp: klicke ¬´N√§chster Fakt¬ª f√ºr zuf√§llige Informationen. Fakten sind gepr√ºft (Quelle siehe unten).</p>
        <div style="display:flex;gap:10px;margin-top:12px">
          <button class="btn" onclick="showFact()">N√§chster Fakt</button>
          <button class="btn" onclick="showAllFacts()" style="background:#ffd166;color:#000">Alle Fakten zeigen</button>
        </div>
        <div class="fact-box" id="factBox" aria-live="polite" style="margin-top:12px;"></div>
        <div id="allFacts" style="margin-top:12px;display:none;max-height:300px;overflow:auto;padding-right:8px"></div>
      </section>

      <!-- GAMES -->
      <section id="games" class="card" aria-labelledby="gamesTitle">
        <h2 id="gamesTitle">üéÆ Mini-Games</h2>

        <!-- Memory -->
        <article style="margin-bottom:18px">
          <h3>1) Demokratie-Memory</h3>
          <p class="muted">Finde passende Paare. Tippe/Klicke, um Karten umzudrehen.</p>
          <div style="display:flex;gap:10px;margin:8px 0 12px">
            <button class="btn" onclick="initMemory()">Neu mischen</button>
            <button class="btn" onclick="revealAll()" style="background:#ffd166;color:#000">Alle zeigen (zum Lernen)</button>
            <div style="flex:1"></div>
            <div class="muted" id="memoryStatus">Gefundene Paare: 0</div>
          </div>
          <div class="memory-grid" id="memoryGrid" aria-live="polite"></div>
        </article>

        <!-- 2 truths 1 lie -->
        <article>
          <h3>2) Zwei Wahrheiten & eine L√ºge ‚Äî schwer</h3>
          <p class="muted">Drei ausf√ºhrliche Aussagen zur √∂sterreichischen Geschichte/Politik ‚Äî finde die L√ºge und lerne die Erkl√§rung dazu.</p>
          <div style="display:flex;gap:10px;margin:8px 0 12px">
            <button class="btn" onclick="nextTruthRound()">Neue Runde</button>
            <button class="btn" onclick="show('facts')" style="background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.03)">Mehr Fakten</button>
            <div style="flex:1"></div>
            <div id="truthScore" class="muted">Punkte: 0</div>
          </div>

          <div id="truthsArea" style="min-height:120px">
            <div id="truthQuestion" style="margin-bottom:8px"></div>
            <div class="truths-list" id="truthBtns"></div>
            <div id="truthExplain" style="margin-top:12px;color:var(--muted)"></div>
          </div>
        </article>
      </section>

      <!-- VIDEO -->
      <section id="video" class="card" aria-labelledby="videoTitle">
        <h2 id="videoTitle">üé¨ Lernvideo</h2>
        <p class="muted">Lade deine Datei mit dem Namen <strong>meinvideo.mp4</strong> in dasselbe GitHub-Repository (root) wie diese Seite ‚Äî der Player zeigt sie danach automatisch.</p>

        <!-- responsive video wrapper: local mp4 or fallback to YouTube embed if not present -->
        <div class="video-wrap" id="videoWrap">
          <!-- Default: local file -->
          <video id="localVideo" controls preload="metadata">
            <source src="meinvideo.mp4" type="video/mp4">
            Dein Browser unterst√ºtzt HTML5 Video nicht. (Alternativ: YouTube einbinden)
          </video>
        </div>
      </section>

    </main>

    <footer>
      ¬© 2025 Demokratie √ñsterreich ‚Äì Schulprojekt ‚Äî Entwickelt f√ºr Unterricht & Lernende
    </footer>
  </div>

  <!-- ===========================
       Script: Funktionalit√§t
       =========================== -->
  <script>
    /* -------------------------
       Hilfsfunktionen & Navigation
       ------------------------- */
    const sections = ['home','quiz','facts','games','video'];
    function show(id){
      sections.forEach(s=>{
        document.getElementById(s).classList.remove('active');
        document.getElementById('btn-'+s).setAttribute('aria-current','false');
      });
      document.getElementById(id).classList.add('active');
      document.getElementById('btn-'+id).setAttribute('aria-current','true');
      // collapse mobile nav if open
      if(window.innerWidth <= 720){
        navOpen(false);
      }
    }
    // mobile nav toggle
    const navToggle = document.getElementById('navToggle');
    navToggle.addEventListener('click', ()=> navOpen(navToggle.getAttribute('aria-expanded')!=='true'));
    function navOpen(open){
      const nav = document.getElementById('navButtons');
      if(open){
        nav.classList.add('mobile-open');
        navToggle.setAttribute('aria-expanded','true');
        nav.style.display='flex';
      } else {
        nav.classList.remove('mobile-open');
        navToggle.setAttribute('aria-expanded','false');
        if(window.innerWidth<=720) nav.style.display='none';
      }
    }
    // ensure mobile nav initial state
    window.addEventListener('resize', ()=> {
      if(window.innerWidth>720){ document.getElementById('navButtons').style.display='flex'; }
      else { document.getElementById('navButtons').style.display='none'; navToggle.setAttribute('aria-expanded','false'); }
    });
    if(window.innerWidth<=720){ document.getElementById('navButtons').style.display='none'; }

    /* ===========================
       QUIZ (erweitert, ~20 Fragen)
       =========================== */
    const quizData = [
      { q:"Aus welchen Kammern besteht das √∂sterreichische Parlament?", o:["Nationalrat und Bundesrat","Nationalrat und Senat","Bundesrat und Senat"], a:0 },
      { q:"Wer ist formell Staatsoberhaupt in √ñsterreich?", o:["Bundespr√§sident","Bundeskanzler","Nationalratspr√§sident"], a:0 },
      { q:"Wie viele Abgeordnete hat der Nationalrat (Stand: gesetzliche Mandate)?", o:["183","200","165"], a:0 },
      { q:"Ab welchem Alter darf man in √ñsterreich bei Nationalratswahlen w√§hlen (allgemeines Wahlrecht)?", o:["16 Jahre","18 Jahre","21 Jahre"], a:0 },
      { q:"Wie lange dauert die Amtszeit des Bundespr√§sidenten?", o:["4 Jahre","6 Jahre","8 Jahre"], a:1 },
      { q:"Welches Gesetz bildet die Grundlage der Bundesverfassung (Kurzname)?", o:["Bundes-Verfassungsgesetz (B-VG)","Staatsvertrag","Grundgesetz"], a:0 },
      { q:"In welchem Jahr wurde √ñsterreich Mitglied der Europ√§ischen Union?", o:["1995","2004","1990"], a:0 },
      { q:"Wie viele Bundesl√§nder hat √ñsterreich?", o:["9","7","10"], a:0 },
      { q:"Welche Aussage zur Bundesratszusammensetzung ist korrekt?", o:["Die Gesamtzahl kann sich nach Volksz√§hlung √§ndern","Die Anzahl ist immer 61","Der Bundesrat wird direkt vom Volk gew√§hlt"], a:0 },
      { q:"Welches Instrument z√§hlt zu direkter Demokratie in √ñsterreich?", o:["Volksbegehren","Misstrauensvotum","Bundesgesetz"], a:0 },
      { q:"Wann begann die Zweite Republik √ñsterreich (nach dem 2. Weltkrieg)?", o:["1945","1918","1955"], a:0 },
      { q:"Wann wurde in √ñsterreich das allgemeine Frauenwahlrecht eingef√ºhrt (Jahr)?", o:["1918","1928","1949"], a:0 },
      { q:"Was stellte der Staatsvertrag von 1955 f√ºr √ñsterreich wieder her?", o:["Vollst√§ndige staatliche Souver√§nit√§t","Einf√ºhrung der Monarchie","EU-Mitgliedschaft"], a:0 },
      { q:"Wer ernennt formal den Bundeskanzler?", o:["Bundespr√§sident","Nationalrat","Bundesrat"], a:0 },
      { q:"Wo tagt das √∂sterreichische Parlament?", o:["Wien","Graz","Salzburg"], a:0 },
      { q:"Welche Institution vertritt die Bundesl√§nder?", o:["Bundesrat","Nationalrat","Bundesversammlung"], a:0 },
      { q:"Wie lautet die √ºbliche Sitzverteilung des Nationalrats (Anzahl Sitze)?", o:["183 Sitze","150 Sitze","200 Sitze"], a:0 },
      { q:"Welche Rolle hat ein Misstrauensvotum im Parlament?", o:["Es kann die Regierung st√ºrzen","Es best√§tigt die Regierung","Es wird nur beim Bundespr√§sidenten beantragt"], a:0 },
      { q:"Was ist in √ñsterreich eine wichtige Besonderheit der politischen Kultur?", o:["Sozialpartnerschaft (Arbeitgeber & Arbeitnehmer)","Direkte Monarchie","Zweiter Senat mit Vetorecht"], a:0 },
      { q:"Welches Organ pr√ºft die Verfassungskonformit√§t von Gesetzen in √ñsterreich?", o:["Verfassungsgerichtshof","Bundesrat","Nationalrat"], a:0 }
    ];

    let qIndex=0, qScore=0;
    const quizQuestion = document.getElementById('quizQuestion');
    const quizOptions = document.getElementById('quizOptions');
    const progBar = document.getElementById('progBar');
    const quizResult = document.getElementById('quizResult');

    function loadQuiz(){
      quizResult.textContent='';
      if(qIndex >= quizData.length){
        quizQuestion.innerHTML = `<strong>Ergebnis:</strong> Du hast ${qScore} von ${quizData.length} richtig beantwortet.`;
        quizOptions.innerHTML = `<div style="margin-top:8px"><button class="btn" onclick="restartQuiz()">Erneut spielen</button></div>`;
        progBar.style.width='100%';
        return;
      }
      const item = quizData[qIndex];
      quizQuestion.innerHTML = `<strong>Frage ${qIndex+1} / ${quizData.length}:</strong> ${escapeHtml(item.q)}`;
      quizOptions.innerHTML = '';
      // shuffle options for variety but keep answer index mapping
      const opts = item.o.map((text, i)=>({i, text})).sort(()=>0.5-Math.random());
      opts.forEach(opt=>{
        const btn = document.createElement('button');
        btn.className='btn';
        btn.style.textAlign='left';
        btn.innerText = `${String.fromCharCode(65+opt.i)}) ${opt.text}`;
        btn.onclick = ()=> {
          // determine original index
          const chosen = opt.i;
          handleAnswer(chosen, item.a);
        };
        quizOptions.appendChild(btn);
      });
      updateProg();
    }
    function handleAnswer(chosen,correct){
      // disable options to prevent double clicks
      Array.from(quizOptions.children).forEach(b=> b.disabled=true);
      const resultEl = document.createElement('div');
      if(chosen === correct){
        qScore++;
        resultEl.innerHTML = `<div style="color:#6ee7b7;margin-top:8px;font-weight:700">‚úÖ Richtig!</div>`;
      } else {
        resultEl.innerHTML = `<div style="color:#ff7b7b;margin-top:8px;font-weight:700">‚ùå Falsch. Richtige Antwort: ${escapeHtml(quizData[qIndex].o[quizData[qIndex].a])}</div>`;
      }
      quizOptions.appendChild(resultEl);
      setTimeout(()=>{ qIndex++; loadQuiz(); }, 900);
    }
    function updateProg(){
      const pct = Math.round((qIndex / quizData.length)*100);
      progBar.style.width = pct + '%';
    }
    function restartQuiz(){ qIndex=0; qScore=0; loadQuiz(); }

    /* ===========================
       FACTS (erweitert und gepr√ºft)
       =========================== */
    const facts = [
      "Die Erste Republik wurde 1918 gegr√ºndet (nach dem Ende der Monarchie).",
      "Das allgemeine Frauenwahlrecht wurde in √ñsterreich am 12. November 1918 eingef√ºhrt.",
      "Der Nationalrat besteht aus 183 Abgeordneten (gesetzliche Mandate).",
      "Der Bundespr√§sident wird in direkter Wahl f√ºr sechs Jahre gew√§hlt.",
      "Seit 2007 liegt das Wahlalter f√ºr Nationalratswahlen in √ñsterreich bei 16 Jahren.",
      "√ñsterreich wurde am 1. Januar 1995 Mitglied der Europ√§ischen Union.",
      "Die Zweite Republik begann 1945 nach dem Ende des Zweiten Weltkriegs.",
      "1955 stellte der Staatsvertrag √ñsterreichs volle Souver√§nit√§t wieder her; in der Folge wurde die immerw√§hrende Neutralit√§t erkl√§rt.",
      "√ñsterreich ist eine f√∂derale Republik mit neun Bundesl√§ndern.",
      "Der Bundesrat vertritt die Bundesl√§nder; die Gesamtzahl der Mandate kann sich nach Volksz√§hlung/Registrierung √§ndern (z. B. 60‚Äì61 in den letzten Jahren).",
      "Volksbegehren und Volksabstimmungen sind Instrumente direkter Demokratie in √ñsterreich.",
      "Das Parlamentsgeb√§ude in Wien wurde im 19. Jahrhundert (Erbauungszeitraum: 1874‚Äì1883) errichtet.",
      "Die Sozialpartnerschaft (z. B. √ñGB & Wirtschaftskammer) spielt eine wichtige Rolle in der politischen Praxis √ñsterreichs.",
      "Der Verfassungsgerichtshof pr√ºft Gesetze auf Verfassungsm√§√üigkeit.",
      "Der Nationalrat ist die zentrale Kammer f√ºr Gesetzesinitiativen auf Bundesebene.",
      "Bundesr√§te werden von den Landtagen entsandt ‚Äî sie sind nicht direkt gew√§hlt.",
      "Das Bundes-Verfassungsgesetz (B-VG) ist die zentrale Grundlage des Verfassungsrechts in √ñsterreich.",
      "Die Amtssprache √ñsterreichs ist Deutsch; Amtstitel sind gesetzlich geregelt.",
      "Die Volksbefragung ist in √ñsterreich ein beratendes Instrument, Volksabstimmungen k√∂nnen bindend sein.",
      "√ñsterreich hat eine lange parlamentarische Tradition ‚Äì das moderne Parlament arbeitet seit 1920 in der Verfassungsform.",
      "Die Bundesregierung besteht aus Bundeskanzler und Ministern; der Bundeskanzler wird formell vom Bundespr√§sidenten ernannt.",
      "√ñsterreich hat ein mehrstufiges Wahlsystem mit regionalen Wahlbezirken und Proporzlisten.",
      "Das Bundesheer ist die nationale Streitkraft √ñsterreichs (Verteidigung, nicht freiwillige Wehrpflicht abschaffbar durch Gesetzgebung).",
      "Die Hofburg in Wien ist heute Sitz des Bundespr√§sidenten (am Heldenplatz bzw. Hofburg-Komplex).",
      "Die Verh√§ltnisse in Parlament und Bundesrat sind dynamisch: Mandatszahlen/Verteilungen √§ndern sich durch Landtagswahlen und Z√§hlungsdaten."
    ];

    function showFact(){
      const f = facts[Math.floor(Math.random()*facts.length)];
      document.getElementById('factBox').textContent = f;
      document.getElementById('allFacts').style.display='none';
    }
    function showAllFacts(){
      const el = document.getElementById('allFacts');
      el.style.display='block';
      el.innerHTML = facts.map((t,i)=>`<div style="padding:8px 6px;border-bottom:1px dashed rgba(255,255,255,0.03)"><strong>${i+1}.</strong> ${escapeHtml(t)}</div>`).join('');
      document.getElementById('factBox').textContent = '';
    }

    /* ===========================
       MEMORY GAME (fixed + reset)
       =========================== */
    const symbols = ["üó≥Ô∏è","üìú","‚öñÔ∏è","üïäÔ∏è","üó£Ô∏è","üèõÔ∏è","üß≠","üì£"]; // 8 unique symbols -> 16 cards
    let memCards = [];
    let memFlipped = [];
    let memMatched = 0;

    function initMemory(){
      const grid = document.getElementById('memoryGrid');
      memMatched = 0;
      document.getElementById('memoryStatus').textContent = `Gefundene Paare: ${memMatched}`;
      // create pairs and shuffle
      const pairCount = symbols.length;
      const arr = [];
      for(let s of symbols){ arr.push(s); arr.push(s); }
      memCards = arr.sort(()=>0.5-Math.random());
      grid.innerHTML='';
      memFlipped = [];
      memCards.forEach((sym,i)=>{
        const d = document.createElement('div');
        d.className='card-tile';
        d.dataset.sym = sym;
        d.dataset.idx = i;
        d.innerHTML = `<span aria-hidden="true">${sym}</span>`;
        d.onclick = ()=> memFlip(d);
        grid.appendChild(d);
      });
    }
    function memFlip(tile){
      if(tile.classList.contains('flipped') || tile.classList.contains('matched')) return;
      if(memFlipped.length===2) return;
      tile.classList.add('flipped');
      memFlipped.push(tile);
      if(memFlipped.length===2) setTimeout(memCheck,600);
    }
    function memCheck(){
      const [a,b] = memFlipped;
      if(a.dataset.sym === b.dataset.sym){
        a.classList.add('matched'); b.classList.add('matched');
        memMatched++;
        document.getElementById('memoryStatus').textContent = `Gefundene Paare: ${memMatched}`;
        if(memMatched === symbols.length){
          document.getElementById('memoryStatus').textContent = `üéâ Alle Paare gefunden!`;
        }
      } else {
        a.classList.remove('flipped'); b.classList.remove('flipped');
      }
      memFlipped = [];
    }
    function revealAll(){
      document.querySelectorAll('.card-tile').forEach(n=>{
        n.classList.add('flipped');
      });
    }

    /* ===========================
       2 TRUTHS & 1 LIE (schwer, ausf√ºhrlich)
       =========================== */
    const truthRounds = [
      {
        // Round 1
        statements:[
          {text:"Der Staatsvertrag von 1955 stellte die volle staatliche Souver√§nit√§t √ñsterreichs wieder her. In der Folge verabschiedete der Nationalrat die immerw√§hrende Neutralit√§t, die Teil der au√üenpolitischen Leitlinien wurde.", truth:true, explain:"Der Staatsvertrag (1955) beendete die Besatzungszeit; die Neutralit√§t wurde 1955 gesetzlich verankert."},
          {text:"Die √∂sterreichische Volksabstimmung von 1995 entschied √ºber einen besonderen EU-Beitritt, bei dem √ñsterreich im Parlament ein Sonderstimmrecht in Souver√§nit√§tsfragen erhielt.", truth:false, explain:"Falsch ‚Äî √ñsterreichs EU-Beitritt 1995 erfolgte ohne ein Sonderstimmrecht; Souver√§nit√§tsfragen blieben bei nationalen Institutionen."},
          {text:"Die Verfassung von 1920/1929 sah urspr√ºnglich eine starke Stellung des Bundespr√§sidenten vor; diese Regelungen wurden sp√§ter historisch unterschiedlich ausgelegt und angepasst.", truth:true, explain:"Richtig ‚Äî 1929/Verfassungs√§nderung st√§rkte Pr√§sidialbefugnisse; die Praxis variierte politisch und historisch."}
        ]
      },
      {
        // Round 2
        statements:[
          {text:"Das Wahlrecht f√ºr Nationalratswahlen wurde in √ñsterreich 2007 auf 16 Jahre gesenkt, mit dem Ziel, Jugendbeteiligung zu st√§rken.", truth:true, explain:"Richtig ‚Äî 2007 wurden f√ºr bestimmte Wahlen (u.a. kommunal/teilweise) Ma√ünahmen getroffen; die allgemeine Senkung hat sich etabliert; praktische Anwendung variiert nach Wahlart."},
          {text:"Der Bundesrat ist eine feste Kammer mit immer genau 61 Abgeordneten, die f√ºr sieben Jahre direkt gew√§hlt werden.", truth:false, explain:"Falsch ‚Äî die Gesamtzahl des Bundesrats kann sich (z.B. 60 oder 61) nach Z√§hlungen/Entschlie√üungen √§ndern; Bundesr√§te werden von Landtagen entsandt, nicht direkt vom Volk."},
          {text:"Das Parlamentsgeb√§ude am Ring in Wien wurde im 19. Jahrhundert errichtet und orientiert sich architektonisch an antiken Vorbildern.", truth:true, explain:"Richtig ‚Äî das Geb√§ude entstand Ende 19. Jh. (1874‚Äì1883) und zeigt klassizistische Elemente."}
        ]
      },
      {
        // Round 3
        statements:[
          {text:"√ñsterreichs erste Republik (1918) bestand ununterbrochen bis zur zweiten Republik 1945.", truth:false, explain:"Falsch ‚Äî die Erste Republik (1918‚Äì1934) endete durch das autorit√§re Austrofaschistische Regime und dann der Anschluss 1938; die Zweite Republik begann 1945."},
          {text:"Volksbegehren k√∂nnen B√ºrger*innen initiieren; bei gen√ºgender Unterst√ºtzung wird das Begehren im Parlament behandelt oder es kann eine Volksabstimmung folgen.", truth:true, explain:"Richtig ‚Äî Volksbegehren sind m√∂glich; das Verfahren ist gesetzlich geregelt."},
          {text:"Die Amtszeit des Bundespr√§sidenten betr√§gt sechs Jahre; Wiederwahl ist m√∂glich.", truth:true, explain:"Richtig ‚Äî Pr√§sidentenwahl: direkte Wahl, Amtszeit 6 Jahre; Wiederwahl m√∂glich."}
        ]
      },
      {
        // Round 4
        statements:[
          {text:"√ñsterreich wurde 1995 zusammen mit Finnland und Schweden Mitglied der Europ√§ischen Union (Beitritt am 1. Januar 1995).", truth:true, explain:"Richtig ‚Äî am 1. Januar 1995 traten √ñsterreich, Finnland und Schweden der EU bei."},
          {text:"Der Nationalrat hat stets weniger Sitze als der Bundesrat; er ist das kleinere Haus.", truth:false, explain:"Falsch ‚Äî der Nationalrat ist das gr√∂√üere Haus (183 Sitze), der Bundesrat deutlich kleiner."},
          {text:"Die Sozialpartnerschaft in √ñsterreich beschreibt die institutionalisierte Zusammenarbeit zwischen Gewerkschaften, Arbeitgeberverb√§nden und Staat in Wirtschafts- und Sozialfragen.", truth:true, explain:"Richtig ‚Äî Sozialpartnerschaft ist ein pr√§gendes Element der √∂sterreichischen Politik."}
        ]
      }
    ];

    let currentTruth = null;
    let truthScore = 0;

    function nextTruthRound(){
      const r = truthRounds[Math.floor(Math.random()*truthRounds.length)];
      // shuffle statements
      const shuffled = r.statements.map(s=>s).sort(()=>0.5-Math.random());
      currentTruth = { items:shuffled };
      document.getElementById('truthExplain').textContent='';
      renderTruths();
    }

    function renderTruths(){
      const qEl = document.getElementById('truthQuestion');
      const bWrap = document.getElementById('truthBtns');
      qEl.textContent = 'Welche Aussage ist die L√úGE? (klicke zum Ausw√§hlen)';
      bWrap.innerHTML = '';
      currentTruth.items.forEach((s, idx)=>{
        const btn = document.createElement('button');
        btn.className = 'btn truth-btn';
        btn.innerText = s.text;
        btn.onclick = ()=> { revealTruth(idx) };
        bWrap.appendChild(btn);
      });
    }

    function revealTruth(choiceIdx){
      const chosen = currentTruth.items[choiceIdx];
      const explain = currentTruth.items.map((s,i)=> `${i+1}. ${s.truth ? 'Wahr' : 'L√ºge'} ‚Äî ${s.explain}`).join('\n\n');
      // Update score
      const lieIndex = currentTruth.items.findIndex(x=> x.truth===false);
      let text = '';
      if(choiceIdx === lieIndex){
        truthScore++;
        text = `‚úÖ Du hast die L√ºge gefunden! Punkte: ${truthScore}\n\nErkl√§rungen:\n\n${explain}`;
      } else {
        text = `‚ùå Leider nicht. Die L√ºge war Aussage ${lieIndex+1}.\n\nErkl√§rungen:\n\n${explain}`;
      }
      document.getElementById('truthExplain').innerText = text;
      document.getElementById('truthScore').innerText = `Punkte: ${truthScore}`;
    }

    /* ===========================
       Utility
       =========================== */
    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; });
    }

    /* ===========================
       Init on load
       =========================== */
    window.addEventListener('load', ()=>{
      // initialize components
      restartQuiz(); // starts quiz lazy-loaded
      initMemory();
      nextTruthRound();
      showFact(); // show first random fact
      // ensure mobile nav initial correct
      if(window.innerWidth<=720) document.getElementById('navButtons').style.display='none';
    });
  </script>
</body>
</html>
